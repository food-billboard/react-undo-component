(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"9kvl":function(n,t,e){"use strict";var r=e("FfOG");e.d(t,"a",(function(){return r["b"]}));e("bCY9")},Xmus:function(n,t,e){"use strict";e.r(t);var r=e("0Owb"),o=e("q1tI"),u=e.n(o),c=e("q3YX"),a=e("9og8"),i=e("WmNS"),s=e.n(i),l=e("LtsZ"),d={"Component-demo":{component:Object(l["dynamic"])({loader:function(){var n=Object(a["a"])(s.a.mark((function n(){var t,r,o,u,c,a,i,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e("K+nK"),n.t0=t,n.next=4,e.e(1).then(e.bind(null,"fWQN"));case 4:return n.t1=n.sent,r=(0,n.t0)(n.t1),n.t2=t,n.next=9,e.e(2).then(e.bind(null,"mtLc"));case 9:return n.t3=n.sent,o=(0,n.t2)(n.t3),n.t4=t,n.next=14,e.e(4).then(e.bind(null,"yKVA"));case 14:return n.t5=n.sent,u=(0,n.t4)(n.t5),n.t6=t,n.next=19,e.e(3).then(e.bind(null,"879j"));case 19:return n.t7=n.sent,c=(0,n.t6)(n.t7),n.t8=t,n.next=24,Promise.resolve().then(e.t.bind(null,"q1tI",7));case 24:return n.t9=n.sent,a=(0,n.t8)(n.t9),n.next=28,e.e(0).then(e.bind(null,"/7QA"));case 28:return i=n.sent,l=function(n){(0,u["default"])(e,n);var t=(0,c["default"])(e);function e(){var n;(0,r["default"])(this,e);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=t.call.apply(t,[this].concat(u)),n.state={counter:0},n.handleAdd=function(){n.setState((function(n){return{counter:n.counter+1}}))},n}return(0,o["default"])(e,[{key:"render",value:function(){var n=this,t=this.state.counter;return a["default"].createElement("div",null,a["default"].createElement("button",{onClick:function(){return n.undo()}},"undo"),a["default"].createElement("button",{onClick:function(){return n.redo()}},"redo"),a["default"].createElement("button",{onClick:this.handleAdd},"+1"),a["default"].createElement("div",null,t))}}]),e}(i.Component),n.abrupt("return",l);case 31:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"  import React from 'react'\n  import { Component } from 'react-undo-component'\n\n  export default class extends Component {\n\n    state = {\n      counter: 0\n    }\n\n    handleAdd = () => {\n      this.setState(prev => {\n        return {\n          counter: prev.counter + 1\n        }\n      })\n    }\n\n    render() {\n      const { counter } = this.state \n\n      return (\n        <div>\n          <button onClick={() => this.undo()}>undo</button>\n          <button onClick={() => this.redo()}>redo</button>\n          <button onClick={this.handleAdd}>+1</button>\n          <div>{counter}</div>\n        </div>\n      )\n    }\n\n  }\n"}},dependencies:{react:{version:"^16.12.0 || ^17.0.0"},"react-undo-component":{version:"0.0.0"}},identifier:"Component-demo"}},"Component-demo-1":{component:Object(l["dynamic"])({loader:function(){var n=Object(a["a"])(s.a.mark((function n(){var t,r,o,u,c,a,i;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=c(t);if(e&&e.has(n))return e.get(n);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if("default"!==u&&Object.prototype.hasOwnProperty.call(n,u)){var a=o?Object.getOwnPropertyDescriptor(n,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=n[u]}return r["default"]=n,e&&e.set(n,r),r},c=function(n){if("function"!==typeof WeakMap)return null;var t=new WeakMap,e=new WeakMap;return(c=function(n){return n?e:t})(n)},t=e("K+nK"),n.t0=t,n.next=6,e.e(13).then(e.bind(null,"tJVT"));case 6:return n.t1=n.sent,r=(0,n.t0)(n.t1),n.t2=a,n.next=11,Promise.resolve().then(e.t.bind(null,"q1tI",7));case 11:return n.t3=n.sent,o=(0,n.t2)(n.t3),n.next=15,e.e(0).then(e.bind(null,"/7QA"));case 15:return u=n.sent,i=function(){var n=(0,u.useUndo)([]),t=(0,r["default"])(n,3),e=t[0],c=t[1],a=t[2],i=a.undo,s=a.redo,l=(0,o.useRef)(),d=(0,o.useCallback)((function(n){var t=n.target.offsetLeft,e=n.target.offsetTop,r=n.pageX,o=n.pageY,u=[r-t,o-e];c(u)}),[]),p=(0,o.useCallback)((function(n){if(n){var t=(0,r["default"])(n,2),e=t[0],o=t[1],u=l.current.getContext("2d");u.clearRect(0,0,400,400),n.length&&(u.beginPath(),u.arc(e,o,10,0,2*Math.PI),u.stroke())}}),[]);return(0,o.useEffect)((function(){p(e)}),[e]),o["default"].createElement("div",null,o["default"].createElement("canvas",{ref:l,width:400,height:400,style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:d}),o["default"].createElement("button",{onClick:i},"undo"),o["default"].createElement("button",{onClick:s},"redo"))},n.abrupt("return",i);case 18:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"  import React, { useRef, useCallback, useEffect } from 'react'\n  import { useUndo } from 'react-undo-component'\n\n  export default () => {\n\n    const [ step, setStep, {\n      undo,\n      redo \n    } ] = useUndo([])\n\n    const canvasRef = useRef()\n\n    const handleClick = useCallback((e) => {\n      const left = e.target.offsetLeft \n      const top = e.target.offsetTop \n      const pageX = e.pageX \n      const pageY = e.pageY \n      const step = [ pageX - left, pageY - top ] \n      setStep(step)\n    }, [])\n\n    const dragArc = useCallback((state) => {\n      if(!state) return \n      const [ x, y ] = state \n      const context = canvasRef.current.getContext(\"2d\") \n      context.clearRect(0, 0, 400, 400)\n      if(state.length) {\n        context.beginPath()\n        context.arc(x, y , 10, 0, 2 * Math.PI)\n        context.stroke()\n      }\n    }, [])\n\n    useEffect(() => {\n      dragArc(step)\n    }, [step])\n\n    return (\n      <div>\n        <canvas\n          ref={canvasRef}\n          width={400}\n          height={400}\n          style={{backgroundColor: \"rgba(0, 0, 0, 0.5)\"}}\n          onClick={handleClick}\n        />\n        <button onClick={undo}>undo</button>\n        <button onClick={redo}>redo</button>\n      </div>\n    )\n\n  }\n"}},dependencies:{react:{version:"^16.12.0 || ^17.0.0"},"react-undo-component":{version:"0.0.0"}},identifier:"Component-demo-1"}},"Component-demo-2":{component:Object(l["dynamic"])({loader:function(){var n=Object(a["a"])(s.a.mark((function n(){var t,r,o,u,c,a,i,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e("K+nK"),n.t0=t,n.next=4,e.e(1).then(e.bind(null,"fWQN"));case 4:return n.t1=n.sent,r=(0,n.t0)(n.t1),n.t2=t,n.next=9,e.e(2).then(e.bind(null,"mtLc"));case 9:return n.t3=n.sent,o=(0,n.t2)(n.t3),n.t4=t,n.next=14,e.e(4).then(e.bind(null,"yKVA"));case 14:return n.t5=n.sent,u=(0,n.t4)(n.t5),n.t6=t,n.next=19,e.e(3).then(e.bind(null,"879j"));case 19:return n.t7=n.sent,c=(0,n.t6)(n.t7),n.t8=t,n.next=24,Promise.resolve().then(e.t.bind(null,"q1tI",7));case 24:return n.t9=n.sent,a=(0,n.t8)(n.t9),n.next=28,e.e(0).then(e.bind(null,"/7QA"));case 28:return i=n.sent,l=function(n){(0,u["default"])(e,n);var t=(0,c["default"])(e);function e(n){var o;return(0,r["default"])(this,e),o=t.call(this,n,{observer:["counter"]}),o.state={counter:0,unObserverCounter:0},o.handleAdd=function(){o.setState((function(n){return{counter:n.counter+1,unObserverCounter:n.counter+1}}))},o}return(0,o["default"])(e,[{key:"render",value:function(){var n=this,t=this.state,e=t.counter,r=t.unObserverCounter;return a["default"].createElement("div",null,a["default"].createElement("button",{onClick:function(){return n.undo4target("counter")}},"undo"),a["default"].createElement("button",{onClick:function(){return n.redo4target("counter")}},"redo"),a["default"].createElement("button",{onClick:this.handleAdd},"+1"),a["default"].createElement("div",null,"counter: ",e),a["default"].createElement("div",null,"unObserverCounter: ",r))}}]),e}(i.Component),n.abrupt("return",l);case 31:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:'  import React from \'react\'\n  import { Component } from \'react-undo-component\'\n\n  export default class extends Component {\n\n    constructor(props) {\n      super(props, {\n        observer: ["counter"]\n      })\n    }\n\n    state = {\n      counter: 0,\n      unObserverCounter: 0\n    }\n\n    handleAdd = () => {\n      this.setState(prev => {\n        return {\n          counter: prev.counter + 1,\n          unObserverCounter: prev.counter + 1,\n        }\n      })\n    }\n\n    render() {\n      const { counter, unObserverCounter } = this.state \n\n      return (\n        <div>\n          <button onClick={() => this.undo4target("counter")}>undo</button>\n          <button onClick={() => this.redo4target("counter")}>redo</button>\n          <button onClick={this.handleAdd}>+1</button>\n          <div>\n            counter: {counter}\n          </div>\n           <div>\n            unObserverCounter: {unObserverCounter}\n          </div>\n        </div>\n      )\n    }\n\n  }\n'}},dependencies:{react:{version:"^16.12.0 || ^17.0.0"},"react-undo-component":{version:"0.0.0"}},identifier:"Component-demo-2"}},"Component-demo-3":{component:Object(l["dynamic"])({loader:function(){var n=Object(a["a"])(s.a.mark((function n(){var t,r,o,u,c,a,i,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e("K+nK"),n.t0=t,n.next=4,e.e(1).then(e.bind(null,"fWQN"));case 4:return n.t1=n.sent,r=(0,n.t0)(n.t1),n.t2=t,n.next=9,e.e(2).then(e.bind(null,"mtLc"));case 9:return n.t3=n.sent,o=(0,n.t2)(n.t3),n.t4=t,n.next=14,e.e(4).then(e.bind(null,"yKVA"));case 14:return n.t5=n.sent,u=(0,n.t4)(n.t5),n.t6=t,n.next=19,e.e(3).then(e.bind(null,"879j"));case 19:return n.t7=n.sent,c=(0,n.t6)(n.t7),n.t8=t,n.next=24,Promise.resolve().then(e.t.bind(null,"q1tI",7));case 24:return n.t9=n.sent,a=(0,n.t8)(n.t9),n.next=28,e.e(0).then(e.bind(null,"/7QA"));case 28:return i=n.sent,l=function(n){(0,u["default"])(e,n);var t=(0,c["default"])(e);function e(n){var o;return(0,r["default"])(this,e),o=t.call(this,n,{filter:function(n,t,e){return n!==i.ActionTypes.ENQUEUE||e.present.counter%5!==0},debug:!0}),o.state={counter:0},o.handleAdd=function(){o.setState((function(n){return{counter:n.counter+1}}))},o}return(0,o["default"])(e,[{key:"render",value:function(){var n=this,t=this.state.counter;return a["default"].createElement("div",null,a["default"].createElement("div",null,"\u8fd9\u91cc\u4f7f\u7528\u81ea\u5b9a\u4e49\u7b5b\u9009\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7279\u5b9a\u7684\u7c7b\u578b\u8fdb\u884c\u7b5b\u9009\uff0c\u5177\u4f53\u67e5\u770b\u4e0b\u9762\u7684API"),a["default"].createElement("div",null,"\u53ea\u6709\u4e0d\u80fd\u88ab5\u6574\u9664\u7684\u6570\u636e\u624d\u80fd\u88ab\u4fdd\u5b58"),a["default"].createElement("button",{onClick:function(){return n.undo()}},"undo"),a["default"].createElement("button",{onClick:function(){return n.redo()}},"redo"),a["default"].createElement("button",{onClick:this.handleAdd},"+1"),a["default"].createElement("div",null,t))}}]),e}(i.Component),n.abrupt("return",l);case 31:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"  import React from 'react'\n  import { Component, ActionTypes } from 'react-undo-component'\n\n  export default class extends Component {\n\n    constructor(props) {\n      super(props, {\n        filter(action, _, prevState) {\n          return action !== ActionTypes.ENQUEUE || (prevState.present.counter % 5 !== 0)\n        },\n        debug: true \n      })\n    }\n\n    state = {\n      counter: 0\n    }\n\n    handleAdd = () => {\n      this.setState(prev => {\n        return {\n          counter: prev.counter + 1\n        }\n      })\n    }\n\n    render() {\n      const { counter } = this.state \n\n      return (\n        <div>\n          <div>\u8fd9\u91cc\u4f7f\u7528\u81ea\u5b9a\u4e49\u7b5b\u9009\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7279\u5b9a\u7684\u7c7b\u578b\u8fdb\u884c\u7b5b\u9009\uff0c\u5177\u4f53\u67e5\u770b\u4e0b\u9762\u7684API</div>\n          <div>\u53ea\u6709\u4e0d\u80fd\u88ab5\u6574\u9664\u7684\u6570\u636e\u624d\u80fd\u88ab\u4fdd\u5b58</div>\n          <button onClick={() => this.undo()}>undo</button>\n          <button onClick={() => this.redo()}>redo</button>\n          <button onClick={this.handleAdd}>+1</button>\n          <div>{counter}</div>\n        </div>\n      )\n    }\n\n  }\n"}},dependencies:{react:{version:"^16.12.0 || ^17.0.0"},"react-undo-component":{version:"0.0.0"}},identifier:"Component-demo-3"}},"Component-demo-4":{component:Object(l["dynamic"])({loader:function(){var n=Object(a["a"])(s.a.mark((function n(){var t,r,o,u,c,a,i,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e("K+nK"),n.t0=t,n.next=4,e.e(1).then(e.bind(null,"fWQN"));case 4:return n.t1=n.sent,r=(0,n.t0)(n.t1),n.t2=t,n.next=9,e.e(2).then(e.bind(null,"mtLc"));case 9:return n.t3=n.sent,o=(0,n.t2)(n.t3),n.t4=t,n.next=14,e.e(4).then(e.bind(null,"yKVA"));case 14:return n.t5=n.sent,u=(0,n.t4)(n.t5),n.t6=t,n.next=19,e.e(3).then(e.bind(null,"879j"));case 19:return n.t7=n.sent,c=(0,n.t6)(n.t7),n.t8=t,n.next=24,Promise.resolve().then(e.t.bind(null,"q1tI",7));case 24:return n.t9=n.sent,a=(0,n.t8)(n.t9),n.next=28,e.e(0).then(e.bind(null,"/7QA"));case 28:return i=n.sent,l=function(n){(0,u["default"])(e,n);var t=(0,c["default"])(e);function e(n){var o;return(0,r["default"])(this,e),o=t.call(this,n,{limit:5}),o.state={counter:0},o.handleAdd=function(){o.setState((function(n){return{counter:n.counter+1}}))},o}return(0,o["default"])(e,[{key:"render",value:function(){var n=this,t=this.state.counter;return a["default"].createElement("div",null,a["default"].createElement("div",null,"\u53ea\u80fd\u5b58\u50a8\u6700\u8fd1\u76845\u6761\u8bb0\u5f55"),a["default"].createElement("button",{onClick:function(){return n.undo()}},"undo"),a["default"].createElement("button",{onClick:function(){return n.redo()}},"redo"),a["default"].createElement("button",{onClick:this.handleAdd},"+1"),a["default"].createElement("div",null,t))}}]),e}(i.Component),n.abrupt("return",l);case 31:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"  import React from 'react'\n  import { Component } from 'react-undo-component'\n\n  export default class extends Component {\n\n    constructor(props) {\n      super(props, {\n        limit: 5\n      })\n    }\n\n    state = {\n      counter: 0\n    }\n\n    handleAdd = () => {\n      this.setState(prev => {\n        return {\n          counter: prev.counter + 1\n        }\n      })\n    }\n\n    render() {\n      const { counter } = this.state \n\n      return (\n        <div>\n          <div>\u53ea\u80fd\u5b58\u50a8\u6700\u8fd1\u76845\u6761\u8bb0\u5f55</div>\n          <button onClick={() => this.undo()}>undo</button>\n          <button onClick={() => this.redo()}>redo</button>\n          <button onClick={this.handleAdd}>+1</button>\n          <div>{counter}</div>\n        </div>\n      )\n    }\n\n  }\n"}},dependencies:{react:{version:"^16.12.0 || ^17.0.0"},"react-undo-component":{version:"0.0.0"}},identifier:"Component-demo-4"}},"Component-demo-5":{component:Object(l["dynamic"])({loader:function(){var n=Object(a["a"])(s.a.mark((function n(){var t,r,o,u,c,a,i,l;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e("K+nK"),n.t0=t,n.next=4,e.e(1).then(e.bind(null,"fWQN"));case 4:return n.t1=n.sent,r=(0,n.t0)(n.t1),n.t2=t,n.next=9,e.e(2).then(e.bind(null,"mtLc"));case 9:return n.t3=n.sent,o=(0,n.t2)(n.t3),n.t4=t,n.next=14,e.e(4).then(e.bind(null,"yKVA"));case 14:return n.t5=n.sent,u=(0,n.t4)(n.t5),n.t6=t,n.next=19,e.e(3).then(e.bind(null,"879j"));case 19:return n.t7=n.sent,c=(0,n.t6)(n.t7),n.t8=t,n.next=24,Promise.resolve().then(e.t.bind(null,"q1tI",7));case 24:return n.t9=n.sent,a=(0,n.t8)(n.t9),n.next=28,e.e(0).then(e.bind(null,"/7QA"));case 28:return i=n.sent,l=function(n){(0,u["default"])(e,n);var t=(0,c["default"])(e);function e(n){var o;return(0,r["default"])(this,e),o=t.call(this,n,{debug:!0}),o.state={counter:0},o.handleAdd=function(){o.setState((function(n){return{counter:n.counter+1}}))},o}return(0,o["default"])(e,[{key:"render",value:function(){var n=this,t=this.state.counter;return a["default"].createElement("div",null,a["default"].createElement("button",{onClick:function(){return n.undo()}},"undo"),a["default"].createElement("button",{onClick:function(){return n.redo()}},"redo"),a["default"].createElement("button",{onClick:function(){return n.jump(3)}},"jump+3"),a["default"].createElement("button",{onClick:function(){return n.jump(-3)}},"jump-3"),a["default"].createElement("button",{onClick:function(){return n.jumpToPast(2)}},"jumpToPast&2"),a["default"].createElement("button",{onClick:function(){return n.jumpToFuture(2)}},"jumpToFuture&2"),a["default"].createElement("button",{onClick:function(){return n.clear()}},"clear"),a["default"].createElement("button",{onClick:this.handleAdd},"+1"),a["default"].createElement("div",null,t))}}]),e}(i.Component),n.abrupt("return",l);case 31:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"  import React from 'react'\n  import { Component } from 'react-undo-component'\n\n  export default class extends Component {\n\n    constructor(props) {\n      super(props, {\n        debug: true \n      })\n    }\n\n    state = {\n      counter: 0\n    }\n\n    handleAdd = () => {\n      this.setState(prev => {\n        return {\n          counter: prev.counter + 1\n        }\n      })\n    }\n\n    render() {\n      const { counter } = this.state \n\n      return (\n        <div>\n          <button onClick={() => this.undo()}>undo</button>\n          <button onClick={() => this.redo()}>redo</button>\n          <button onClick={() => this.jump(3)}>jump+3</button>\n          <button onClick={() => this.jump(-3)}>jump-3</button>\n          <button onClick={() => this.jumpToPast(2)}>jumpToPast&2</button>\n          <button onClick={() => this.jumpToFuture(2)}>jumpToFuture&2</button>\n          <button onClick={() => this.clear()}>clear</button>\n          <button onClick={this.handleAdd}>+1</button>\n          <div>{counter}</div>\n        </div>\n      )\n    }\n\n  }\n"}},dependencies:{react:{version:"^16.12.0 || ^17.0.0"},"react-undo-component":{version:"0.0.0"}},identifier:"Component-demo-5"}}},p=e("x2v5"),f=e("KcUY"),m=e.n(f);t["default"]=n=>u.a.createElement(m.a,Object(r["a"])({},n,{config:c,demos:d,apis:p}))},q3YX:function(n){n.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/","title":"\u4ecb\u7ecd","meta":{}},{"title":"Component","path":"/component","meta":{},"children":[]}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{},"title":"react-undo-component","logo":"https://user-images.githubusercontent.com/9554297/83762004-a0761b00-a6a9-11ea-83b4-9c8ff721d4b8.png","mode":"doc","repository":{"url":"https://github.com/food-billboard/react-undo-component","branch":"master"},"theme":{},"exportStatic":{}}')},x2v5:function(n){n.exports=JSON.parse("{}")}}]);